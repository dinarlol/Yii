<?phpclass EWebUser extends CWebUser{    protected $username;   protected $user;                    function init() {       parent::init();       $this->user = $this->loadUser();   }      public function setTwoFactorVerify($verify=false){       Yii::app()->user->setState("twoFactorVerify", $verify);   }      public function isTwoFactorVerify(){       return Yii::app()->user->getState("twoFactorVerify", FALSE);   }               function isAdmin(){           return $this->user->role->isAdmin();        }                function isBan(){           return $this->user->ban;        }            function getUsername(){           return $this->user->username;           }        function isPhoneAdded(){        return $this->user->phone;    }         function isSmsVerified() {         return Verification::isSmsVerified($this->getId());     }        function isTwoFactorEnabled(){        $this->user = $this->loadUser();        return $this->user->two_factor_authentication;    }     function getTwoFactorCode(){        return $this->user->two_factor_code;    }    function getUser(){        return $this->user;    }        function refresh(){        $this->user = $this->loadUser();    }    // Load user model.    protected function loadUser()    {        if ( $this->user === null ) {                $this->user = Users::model()->findByPk( $this->getId() );        }        return $this->user;    }}